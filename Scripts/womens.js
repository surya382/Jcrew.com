var mensData = [
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BL830_BL7505_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
    trending:"NEW COLOR",
    name: "Lobster roll made-in-the-USA graphic",
    price: "6617",
    strikedoffprice:"7,200",
    brand: "Nike",
    type:" Classic,Slim,Tall"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BH458_SU9355_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"TOP RATED",
      name: "Classic Relaxed-fit chino pant",
      price: "10986",
      strikedoffprice:"11694",
      brand: "Nike",
      type:" Classic,Slim,Tall"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BG324_GR0216_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST SELLER",
      name: "Woven belt",
      price: "6014",
      strikedoffprice:"6617",
      brand: "Jcrew",
      type:" Classic,Slim,Tall"
  },
  {
    image_url:
    "https://www.jcrew.com/s7-img-facade/BF355_GR6112_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
    trending:"PEOPLE CHOICE",
      name: "Ludlow Slim-fit unstructured blazer in Italian linen-cotton",
      price: "50202",
      strikedoffprice:"53202",
      brand: "JCREW",
      type:" Classic,Slim,Tall"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/G8547_BK0001_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST SELLER",
      name:"Short-sleeve Broken-in organic cotton oxford",
      price: "5281",
      strikedoffprice:"9291",
      brand: "Adiddas",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BH968_OR5362_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      name:"7inch stretch chino short",
      price: "9291",
      strikedoffprice:"8421",
      brand: "Nike",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BH912_BL7133_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST SELLER",
      name:"Short-sleeve Broken-in organic cotton oxford",
      price: "5281",
      strikedoffprice:"9291",
      brand: "Adiddas",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BF013_NA7183_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"NEW COLOR",
    name: "Classic piqu√© polo shirt in stripe ",
    price: "7082",
    strikedoffprice: "10026",
    brand: "Reebok",
    type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BF390_BL8133_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST CHOICE",
      name: "Bungalow sunglasses",
      price: "8089",
      strikedoffprice: "9082",
      brand: "Adiddas",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BL127_EE3551?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=480&hei=480",
      trending:"NEW STYLE",
      name: "Classic Relaxed-fit pleated chino pant",
      price: "9999",
      strikedoffprice: "11299",
      brand: "Puma",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BK814_BK0001?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=480&hei=480",
      trending:"NEW STYLE",
      name: "Classic Relaxed-fit pleated chino",
      price: "6899",
      strikedoffprice: "9299",
      brand: "Nike",
      type:" Classic,Slim"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/K2532_BL8133?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=480&hei=480",
      trending:"BEST SELLER",
      name: "Camden loafers in leather",
      price: "12987",
      strikedoffprice: "16989",
      brand: "Nike",
      type:" Classic"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BA006_BL8133_m?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST SELLER",
      name: "Hemp-organic cotton long-sleeve T-shirt",
      price: "7963",
      strikedoffprice: "8767",
      brand: "JCREW",
      type:" Classic,Slim,Tall"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BF306_BL8317?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=480&hei=480",
    
    trending:"BEST SELLER",
    name: "Reversible bucket hat in linen-cotton",
      price: "7876",
      strikedoffprice: "8767",
      brand: "JCREW",
      type:"Classic,Slim,Tall"
  },
  {
    image_url:
      "https://www.jcrew.com/s7-img-facade/BH656_PT1290_d1?fmt=jpeg&qlt=90,0&resMode=sharp&op_usm=.1,0,0,0&crop=0,0,0,0&wid=540&hei=540",
      trending:"BEST SELLER",
      name: "ripstop drawstring short",
        price: "5281",
        strikedoffprice: "10987",
        brand: "Puma",
        type:"Classic,Slim,Tall"
  },
 
  
];
display(mensData);

let cartLs = JSON.parse(localStorage.getItem("cart-page")) || [];

function display(mensData) {
  document.querySelector("#container").innerHTML = "";
  mensData.forEach(function (elem) {
    let div = document.createElement("div");
    let img = document.createElement("img");
    img.setAttribute("src", elem.image_url);

    let name = document.createElement("h2");
    name.innerText = elem.name;

    let price = document.createElement("span");
    price.innerText = "INR " + elem.price;
    let strikedPrice = document.createElement("span");
    strikedPrice.innerText =  elem.strikedoffprice;

    let type = document.createElement("p");
    type.innerText =  elem.type

    let trending = document.createElement("p");
    trending.innerText = elem.trending;


    let addBtn = document.createElement("button");
    addBtn.innerText = "Add to Cart";
    addBtn.addEventListener("click", function () {
      addToCart(elem);
    });
    document.querySelector("#container").append(div);
    div.append(img, trending, name, strikedPrice, price,type,addBtn);
  });
}

function addToCart(product) {
  let iscartAdded = false;
  for (let i = 0; i < cartLs.length; i++) {
    if (cartLs[i].image_url === product.image_url) {
      alert("Product already in the cart");
      iscartAdded = true;
      break;
    }
  }
  if (iscartAdded === false) {
    cartLs.push(product);
    alert("Product added successfully");
    localStorage.setItem("cart-page", JSON.stringify(cartLs));
  }
}

let priceSort = document.getElementById("priceSort");

priceSort.addEventListener("change", function () {
  let selected = priceSort.value;
  if (selected == "High") {
    mensData.sort(function (a, b) {
      return b.price - a.price;
    });
    display(mensData);
  }
  if (selected == "Low") {
    mensData.sort(function (a, b) {
      return a.price - b.price;
    });
    display(mensData);
  }
});

let nameSort = document.getElementById("nameSort");

nameSort.addEventListener("change", function () {
  let selected = nameSort.value;
  if (selected == "Ascending") {
    mensData.sort(function (a, b) {
      let x = a.name.toLowerCase();
      let y = b.name.toLowerCase();
      if (x > y) return 1;
      if (x < y) return -1;
      return 0;
    });
    display(mensData);
  }
  if (selected == "Descending") {
    mensData.sort(function (a, b) {
      let x = a.name.toLowerCase();
      let y = b.name.toLowerCase();
      if (x > y) return -1;
      if (x < y) return 1;
      return 0;
    });
    display(mensData);
  }
});

let filter = document.getElementById("filter");

filter.addEventListener("change", function () {
  if (filter.value == "") {
    display(mensData);
  } else {
    let filteredArr = mensData.filter(function (ele) {
      return ele.brand == filter.value;
    });
    display(filteredArr);
  }
});
